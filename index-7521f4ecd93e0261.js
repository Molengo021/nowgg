(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{98702:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return j},default:function(){return B}});var o=n(3021),a=n(43626),r=n(10020),i=n(26544),l=n(5052),d=n(22899),s=n(9008),u=n(58309),c=n(11720),p=n(89598),v=n(78294),f=n(25617),g=n(14266),m=n(66971),y=n(5522),b=n(45628),h=function(e){var t=(0,c.useState)(e),n=t[0],o=t[1];return(0,c.useEffect)((function(){document.title=n}),[n]),[n,o]},P=n(40942),E=n(57020),w=n(11752),Z=n(73145),I=n(94381),S=n(4298),F=n(64857),A=n(20902),N=n(77691),R=n(55072),_=n(82258),x=n(1568),D=n(75555),T=n(58157),k=n(61084),L=n(82132),O=n(58502),U=n(46847),M=n(97997),C=n(34155),Y=function(){return(Y=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},H=function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function i(e){try{d(o.next(e))}catch(t){r(t)}}function l(e){try{d(o.throw(e))}catch(t){r(t)}}function d(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}d((o=o.apply(e,t||[])).next())}))},X=function(e,t){var n,o,a,r,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"===typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(a=2&r[0]?o.return:r[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,r[1])).done)return a;switch(o=0,a&&(r=[2&r[0],a.value]),r[0]){case 0:case 1:a=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,o=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!a||r[1]>a[0]&&r[1]<a[3])){i.label=r[1];break}if(6===r[0]&&i.label<a[1]){i.label=a[1],a=r;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(r);break}a[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(l){r=[6,l],o=0}finally{n=a=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}},j=!0,B=function(e){var t,n,j,B,q,z,V,G,Q,J,W,K,$,ee,te,ne,oe,ae,re,ie,le,de,se=e.appInfo,ue=e.authServiceHost,ce=e.ngNcmHost,pe=e.errorStatus,ve=e.pwaIconHost,fe=e.pwaNudgeDelayMs,ge=e.features,me=e.authUseThirdPartyFlow,ye=e.prefix,be=e.authRedirectionUrl,he=(e.playDomain,e.adsConfigUrl),Pe=e.serviceStatus,Ee=e.countryCode,we=se.media,Ze=se.packageName,Ie=(se.appType,(we||{}).desktop),Se=h(pe?"404 | now.gg":""),Fe=Se[0],Ae=Se[1],Ne=(0,c.useRef)(),Re=null===(n=null===(t=se.playFeFeatures)||void 0===t?void 0:t.tryAndDownload)||void 0===n?void 0:n.isEnabled,_e=(0,f.I0)(),xe=36e4,De=(0,c.useRef)(null),Te=!0,ke=null,Le=function(e){return H(void 0,void 0,void 0,(function(){var t,n,o;return X(this,(function(a){switch(a.label){case 0:return t=(new TextEncoder).encode(e),[4,crypto.subtle.digest("SHA-1",t)];case 1:return n=a.sent(),o=Array.from(new Uint8Array(n)),[2,o.map((function(e){return e.toString(16).padStart(2,"0")})).join("")]}}))}))},Oe=!0,Ue=!0,Me=!0,Ce=!0;if(!(0,x.yF)()){var Ye=(0,w.default)().publicRuntimeConfig,He=C.env.NEXT_PUBLIC_ENVIRONMENT||Ye.NEXT_PUBLIC_ENVIRONMENT||"development",Xe=!!(He&&He.indexOf("staging")>-1),je=!!(He&&He.indexOf("qa")>-1),Be=!!(He&&He.indexOf("dev")>-1),qe="now.gg"===window.location.hostname,ze="staging-demo.abctest.in"===window.location.hostname;ke=sessionStorage.getItem("isEmbeddedFrame"),Te=(qe||Xe||je||Be)&&!ze&&!ke,Oe=!(0,N.tq)()||(0,N.Em)()||(0,N.zc)()?null===(G=null===(V=null===(z=se.playFeFeatures)||void 0===z?void 0:z.ads)||void 0===V?void 0:V.desktop)||void 0===G?void 0:G.enableDisplayAds:null===(q=null===(B=null===(j=se.playFeFeatures)||void 0===j?void 0:j.ads)||void 0===B?void 0:B.mobile)||void 0===q?void 0:q.enableDisplayAds,Ue=!(0,N.tq)()||(0,N.Em)()||(0,N.zc)()?null===(ee=null===($=null===(K=se.playFeFeatures)||void 0===K?void 0:K.ads)||void 0===$?void 0:$.desktop)||void 0===ee?void 0:ee.enablePrerollAds:null===(W=null===(J=null===(Q=se.playFeFeatures)||void 0===Q?void 0:Q.ads)||void 0===J?void 0:J.mobile)||void 0===W?void 0:W.enablePrerollAds,Me=!(0,N.tq)()||(0,N.Em)()||(0,N.zc)()?null===(ie=null===(re=null===(ae=se.playFeFeatures)||void 0===ae?void 0:ae.ads)||void 0===re?void 0:re.desktop)||void 0===ie?void 0:ie.enableMidrollAds:null===(oe=null===(ne=null===(te=se.playFeFeatures)||void 0===te?void 0:te.ads)||void 0===ne?void 0:ne.mobile)||void 0===oe?void 0:oe.enableMidrollAds,Ce=Oe||Ue||Me}v.ZP.serviceStatus="".concat(Pe),v.ZP.isPlayPage=!0,(0,c.useEffect)((function(){var e;v.ZP.appInfo=se;var t={};v.ZP.prefix=ye,v.ZP.ngNcmHost=ce,v.ZP.countryCode=Ee||"",(0,E.v)({authServiceHost:ue,authUseThirdPartyFlow:me,pwaIconHost:ve,pwaNudgeDelayMs:fe});var n=(0,D.ZX)();t.eVar=n.evar,n.isNewUserForExperiment&&(t.isNewUserForExperiment=!0),(0,p.L9)("PreloaderDisplayed",t);try{if((0,N.EO)()){var o=(new Date).getTime();sessionStorage.setItem(I.oE,o.toString())}if(!sessionStorage.getItem(I.bA)){var a=sessionStorage.getItem(I.UZ);if(a){var r=Date.now()-parseInt(a,10);if(r>=xe)(0,y.Ip)({event:"six_minutes"}),sessionStorage.setItem(I.bA,"true");else{var i=xe-r;De.current=setTimeout((function(){(0,y.Ip)({event:"six_minutes"}),sessionStorage.setItem(I.bA,"true")}),i)}}else{o=Date.now();sessionStorage.setItem(I.UZ,o.toString()),De.current=setTimeout((function(){(0,y.Ip)({event:"six_minutes"}),sessionStorage.setItem(I.bA,"true")}),xe)}}}catch(_){}Pe&&I.VI[Pe]&&(0,T.Z)(I.VI[Pe],"","NowggIfpSdkEvent");var d=I.sU.includes(se.appId),s=d&&!I.D1.includes(se.appId);_e({type:m.Z.UPDATE_PLAY_STATE,payload:{isPokelaboApp:d,pokelaboHideHeaderFooter:s}});var c=sessionStorage.getItem("isEmbeddedFrame");if(c){v.ZP.appInfo.iapLoginPromptEnabled=!1;var f=(0,N.Ed)(c),b=!1,h=!1,w=!1,S=!1;f&&(b=-1!==f.indexOf("b"),h=-1!==f.indexOf("a"),w=-1!==f.indexOf("c"),S=-1!==f.indexOf("d")),v.ZP.appInfo.playFeFeatures.ads={desktop:{enablePrerollAds:h,enableDisplayAds:b,enableMidrollAds:w},mobile:{enablePrerollAds:h,enableDisplayAds:b,enableMidrollAds:w}},v.ZP.embeddedFullScreenAdsEnabled=S}(0,N.F8)()&&(v.ZP.appInfo.playFeFeatures.ads={desktop:{enablePrerollAds:!1,enableDisplayAds:!1,enableMidrollAds:!1},mobile:{enablePrerollAds:!1,enableDisplayAds:!1,enableMidrollAds:!1}}),"ropro"===(0,v.We)().utmCampaign.toLowerCase()&&Ae("RoPro Cloud Play via now.gg"),(0,v.DJ)()&&Ae("Play ".concat(v.ZP.appInfo.appName," Online"));var F=window.fetch,R=/^\/play\/_next\/data\/.*\.json/;window.fetch=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return H(void 0,void 0,void 0,(function(){var t;return X(this,(function(n){return t=e[0],R.test(t)?[2,Promise.reject()]:[2,F.apply(void 0,e)]}))}))};var x=sessionStorage.getItem(A.$3);x&&parseInt(x,10)&&_e({type:m.Z.SET_ROBLOX_EXPERIENCE_ID,payload:{robloxExperienceId:parseInt(x,10),currentRobloxExperienceTimer:Date.now()}}),v.ZP.features=ge,v.ZP.authRedirectionUrl=be,v.ZP.authUseThirdPartyFlow=me,Re&&(v.ZP.pwaSupported=!1);H(void 0,void 0,void 0,(function(){var e;return X(this,(function(t){switch(t.label){case 0:return v.ZP.appInfo.packageName&&v.ZP.appInfo.packageName.length>40?[4,Le(v.ZP.appInfo.packageName)]:[3,2];case 1:e=t.sent(),v.ZP.compressedPackage=e,t.label=2;case 2:return[2]}}))})).then((function(){})).catch((function(e){}));try{var O="IncognitoMode";(0,Z.r)().then((function(e){e.isPrivate?(v.ZP.pwaSupported=!1,v.ZP.incognitoMode=k.F.TRUE,(0,p.L9)("".concat(O,"Detected"))):v.ZP.incognitoMode=k.F.FALSE})).catch((function(e){v.ZP.incognitoMode=k.F.ERROR,(0,p.L9)("".concat(O,"DetectionFailed"),{error:e})}))}catch(M){}(0,p.L9)("PreloaderDisplayed2",t),localStorage.removeItem("A/B-experiment::play-page"),Ne.current=(0,p.wn)(),sessionStorage.removeItem(I.dZ),_e({type:m.Z.UPDATE_ORIENTATION,payload:{orientation:se.initialOrientation}}),(0,P.i1)();var U=(0,u._B)();return _e({type:g.Z.GUEST_FLOW,payload:{guestFlow:U}}),(null===(e=null===v.ZP||void 0===v.ZP?void 0:v.ZP.features)||void 0===e?void 0:e.ads)&&(0,l.Z)(),U&&_e({type:g.Z.SET_LOGGED_IN,payload:{isLoggedIn:!1,showPreloader:!1}}),(0,p.L9)("PreloaderDisplayed3",t),(0,L.oi)(),window.addEventListener("nggSetAdsIdProfile",L.oi),function(){window.removeEventListener("nggSetAdsIdProfile",L.oi),clearInterval(Ne.current),De.current&&clearTimeout(De.current)}}),[]);var Ve=function(){_e({type:F.Z.UPDATE_IMAERROR,payload:{imaError:!1}})},Ge=function(){v.ZP.prebidFailed=!0,(0,L.zr)("aditudeScriptLoadError",!1),_e({type:F.Z.UPDATE_IMAERROR,payload:{imaError:!0,adsEnded:!0}})};return pe?(0,M.tZ)(O.NotFound,{prefix:ye,ngNcmHost:ce,errorReason:"Play".concat(pe)}):(0,M.BX)(i.Pw,{children:[(0,M.BX)(s.default,{children:[(0,M.tZ)("meta",{name:"robots",content:"noindex,nofollow,noarchive"}),(0,M.tZ)("meta",{httpEquiv:"Cache-control",content:"private, no-cache, no-store, max-age=0, must-revalidate"}),(0,M.tZ)("meta",{httpEquiv:"Pragma",content:"no-cache"}),(0,M.tZ)("script",{dangerouslySetInnerHTML:{__html:(0,y.ZP)(Y(Y({},se),{authServiceHost:ue}),Ze,ye,!1,null===(de=null===(le=se.playFeFeatures)||void 0===le?void 0:le.tryAndDownload)||void 0===de?void 0:de.isEnabled)}}),(0,x.LX)((null===se||void 0===se?void 0:se.metaTags)||""),Fe&&(0,M.tZ)("title",{children:Fe}),(0,M.tZ)("script",{children:"document.addEventListener('wheel', function(e) { if (e.ctrlKey) { e.preventDefault(); }}, { passive: false });\n          document.addEventListener('touchmove', function (event) { if (event.touches.length > 1) { event.preventDefault();} }, { passive: false });\n          document.addEventListener('gesturestart', function (event) { event.preventDefault() }, { passive: false });\n          document.addEventListener('gesturechange', function (event) { event.preventDefault() }, { passive: false });\n          document.addEventListener('gestureend', function (event) { event.preventDefault() }, { passive: false });"})]}),(0,M.BX)(o.im,{desktopBanner:null===Ie||void 0===Ie?void 0:Ie.banner,children:[(0,M.tZ)(d.Z,{}),(0,M.tZ)("noscript",{style:{margin:"auto",borderRadius:"20px",padding:"20px",textAlign:"center",fontSize:"x-large",color:"#ffffff",background:"rgba(0, 0, 0, 0.8)"},children:"You need to enable JavaScript to run this app."}),(0,M.tZ)(r.x.Provider,{value:se,children:(0,M.BX)(a.Z,{children:[(!Pe||Pe===b.YR.FailureServiceNotInRegion&&(0,N.c6)(se.packageName))&&(0,M.BX)(M.HY,{children:[Ce&&(Te?(0,M.tZ)(S.default,{src:"https://dn0qt3r0xannq.cloudfront.net/nowgg-IZQznjkQaj/nowgg-default/prebid-load.js",onLoad:Ve,onError:Ge}):(0,M.tZ)(S.default,{src:"https://dn0qt3r0xannq.cloudfront.net/nowgg-IZQznjkQaj/longtail/prebid-load.js",onLoad:Ve,onError:Ge})),(0,M.tZ)(U.PlayPage,{manifest:!0,adsConfigUrl:he})]}),(Pe===b.YR.FailureServiceNotInRegion&&!(0,N.c6)(se.packageName)||Pe===b.YR.FailureAppNotAvailable)&&Re?(0,M.tZ)(R.Z,{}):(Pe===b.YR.Failure||Pe===b.YR.FailureNoResource||Pe===b.YR.FailureMobileNotSupported||Pe===b.YR.FailureDesktopNotSupported||Pe===b.YR.FailureTabletNotSupported||Pe===b.YR.FailureOsNotSupported||Pe===b.YR.FailureServiceNotInRegion&&!(0,N.c6)(se.packageName)||Pe===b.YR.FailureAppNotAvailable)&&(0,M.tZ)(_.default,{error:Pe,errorName:"PageServiceStatus-".concat(Pe)})]})})]})]})}},45301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(98702)}])}},function(e){e.O(0,[774,164,54,796,690,327,763,235,847,129,888,179],(function(){return t=45301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=index-7521f4ecd93e0261.js.map